<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Insert Name Here</title>

    <!-- Bootstrap Core CSS -->
    <link href="../bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- MetisMenu CSS -->
    <link href="../bower_components/metisMenu/dist/metisMenu.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="../dist/css/sb-admin-2.css" rel="stylesheet">
    <link href="../dist/css/d3.css" rel="stylesheet" type="text/css">
    <link href="../css/custom.css" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Titillium+Web:400,200,300,600,700' rel='stylesheet' type='text/css'>
    
    <!-- Custom Fonts -->
    <link href="../bower_components/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

    </head>

    <body>

        <div id="wrapper">

            <!-- Navigation -->
            <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="index.html">Insert Name Here</a>
                </div>

                <div class="navbar-default sidebar" role="navigation">
                    <div class="sidebar-nav navbar-collapse">
                        <ul class="nav" id="side-menu">
                            <li>
                                <a href="index.html"><i class="fa fa-file-movie-o fa-fw"></i> My Story</a>
                            </li>
                            <li>
                                <a href="history.html"><i class="fa fa-folder-open-o fa-fw"></i> Health History</a>
                            </li>
                            <li>
                                <a href="medication.html"><i class="fa fa-clock-o fa-fw"></i> Medication History</a>
                            </li>
                            <li>
                                <a href="allergies.html"><i class="fa fa-table fa-fw"></i> Allergies</a>
                            </li>
                            <li>
                                <a href="results.html"><i class="fa fa-line-chart fa-fw"></i> Test Results</a>
                            </li>
                            <li>
                                <a href="scans.html"><i class="fa fa-image fa-fw"></i> Scans</a>
                            </li>
                            <li>
                                <a href="social.html"><i class="fa fa-user fa-fw"></i> Social History</a>
                            </li>
                            <li>
                                <a href="providers.html"><i class="fa fa-heartbeat fa-fw"></i> Providers</a>
                            </li>
                        </ul>
                    </div>
                    <!-- /.sidebar-collapse -->
                </div>
                <!-- /.navbar-static-side -->
            </nav>

            <!-- Page Content -->
            <div id="page-wrapper">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-lg-12">
                            <h1 class="page-header">Test Results</h1>
                        </div>
                        <!-- /.col-lg-12 -->
                    </div>
                    <div class="row">
                        <div id="d3results">
                            <svg></svg>
                        </div>
                    </div>
                </div>
                  <!-- /.row -->
              </div>
              <!-- /.container-fluid -->
          </div>
          <!-- /#page-wrapper -->

      </div>
      <!-- /#wrapper -->

      <!-- jQuery -->
      <script src="../bower_components/jquery/dist/jquery.min.js"></script>

      <!-- Bootstrap Core JavaScript -->
      <script src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

      <!-- Metis Menu Plugin JavaScript -->
      <script src="../bower_components/metisMenu/dist/metisMenu.min.js"></script>

      <!-- Custom Theme JavaScript -->
      <script src="../dist/js/sb-admin-2.js"></script>


      <script src="http://mbostock.github.com/d3/d3.v2.js"></script>
      <script src="../dist/js/nvtooltip.js"></script>
      <script src="../dist/js/d3legend.js"></script> 
      <script src="../dist/js/d3line.js"></script> 
      <script src="../dist/js/d3linewithlegend.js"></script> 
      <script>
          $(document).ready(function() {
            var margin = {top: 0, right: 0, bottom: 0, left: 0},
            chart = d3LineWithLegend()
            .xAxis.label('Time (ms)')
            .width(getWidth())
            .height(getHeight())
            .yAxis.label('Voltage (v)');

            var svg = d3.select('#d3results svg')
            .datum(generateData())
            svg.transition().duration(500)
            .attr('width', getWidth())
            .attr('height', getHeight())
            .call(chart);

            chart.dispatch.on('showTooltip', function(e) {
            var offset = $('#d3results').offset(), // { left: 0, top: 0 }
            left = e.pos[0] + offset.left,
            top = e.pos[1] + offset.top,
            formatter = d3.format(".04f");

            var content = '<h3>' + e.series.label + '</h3>' +
            '<p>' +
            '<span class="value">[' + e.point[0] + ', ' + formatter(e.point[1]) + ']</span>' +
            '</p>';
            nvtooltip.show([left, top], content);
        });

            chart.dispatch.on('hideTooltip', function(e) {
                nvtooltip.cleanup();
            });

            $(window).resize(function() {
                var margin = chart.margin();

                chart
                .width(getWidth())
                .height(getHeight());

                d3.select('#d3results svg')
                .attr('width', getWidth())
                .attr('height', getHeight())
                .call(chart);
            });

        function getWidth() {
            return 1100;
        }

        function getHeight() {
            return 800;
        }

        // populating data
        function generateData() {
            var sin = [],
            sin2 = [],
            cos = [],
            cos2 = [],
            r1 = Math.random(),
            r2 = Math.random(),
            r3 = Math.random(),
            r4 = Math.random();

            for (var i = 0; i < 20; i++) {
              sin.push([ i, r1 * Math.sin( r2 +  i / (10 * (r4 + .5) ))]);
              cos.push([ i, r2 * Math.cos( r3 + i / (10 * (r3 + .5) ))]);
              sin2.push([ i, r3 * Math.sin( r1 + i / (10 * (r2 + .5) ))]);
              cos2.push([ i, r4 * Math.cos( r4 + i / (10 * (r1 + .5) ))]);
          }

          return [
          {
            data: sin,
            label: "Sine Wave"
        },
        {
            data: cos,
            label: "Cosine Wave"
        },
        {
            data: sin2,
            label: "Sine2 Wave"
        },
        {
            data: cos2,
            label: "Cosine2 Wave"
        }];
    }});
</script>

</body>

</html>
